{"ast":null,"code":"import { RequestError } from './errors.js';\nexport const isResponseOk = response => {\n  const {\n    statusCode\n  } = response;\n  const {\n    followRedirect\n  } = response.request.options;\n  const shouldFollow = typeof followRedirect === 'function' ? followRedirect(response) : followRedirect;\n  const limitStatusCode = shouldFollow ? 299 : 399;\n  return statusCode >= 200 && statusCode <= limitStatusCode || statusCode === 304;\n};\n/**\nAn error to be thrown when server response code is 2xx, and parsing body fails.\nIncludes a `response` property.\n*/\nexport class ParseError extends RequestError {\n  constructor(error, response) {\n    const {\n      options\n    } = response.request;\n    super(\"\".concat(error.message, \" in \\\"\").concat(options.url.toString(), \"\\\"\"), error, response.request);\n    this.name = 'ParseError';\n    this.code = 'ERR_BODY_PARSE_FAILURE';\n  }\n}\nexport const parseBody = (response, responseType, parseJson, encoding) => {\n  const {\n    rawBody\n  } = response;\n  try {\n    if (responseType === 'text') {\n      return rawBody.toString(encoding);\n    }\n    if (responseType === 'json') {\n      return rawBody.length === 0 ? '' : parseJson(rawBody.toString(encoding));\n    }\n    if (responseType === 'buffer') {\n      return rawBody;\n    }\n  } catch (error) {\n    throw new ParseError(error, response);\n  }\n  throw new ParseError({\n    message: \"Unknown body type '\".concat(responseType, \"'\"),\n    name: 'Error'\n  }, response);\n};","map":{"version":3,"names":["RequestError","isResponseOk","response","statusCode","followRedirect","request","options","shouldFollow","limitStatusCode","ParseError","constructor","error","concat","message","url","toString","name","code","parseBody","responseType","parseJson","encoding","rawBody","length"],"sources":["C:/Users/sakas/OneDrive/Desktop/gogo/node_modules/got/dist/source/core/response.js"],"sourcesContent":["import { RequestError } from './errors.js';\nexport const isResponseOk = (response) => {\n    const { statusCode } = response;\n    const { followRedirect } = response.request.options;\n    const shouldFollow = typeof followRedirect === 'function' ? followRedirect(response) : followRedirect;\n    const limitStatusCode = shouldFollow ? 299 : 399;\n    return (statusCode >= 200 && statusCode <= limitStatusCode) || statusCode === 304;\n};\n/**\nAn error to be thrown when server response code is 2xx, and parsing body fails.\nIncludes a `response` property.\n*/\nexport class ParseError extends RequestError {\n    constructor(error, response) {\n        const { options } = response.request;\n        super(`${error.message} in \"${options.url.toString()}\"`, error, response.request);\n        this.name = 'ParseError';\n        this.code = 'ERR_BODY_PARSE_FAILURE';\n    }\n}\nexport const parseBody = (response, responseType, parseJson, encoding) => {\n    const { rawBody } = response;\n    try {\n        if (responseType === 'text') {\n            return rawBody.toString(encoding);\n        }\n        if (responseType === 'json') {\n            return rawBody.length === 0 ? '' : parseJson(rawBody.toString(encoding));\n        }\n        if (responseType === 'buffer') {\n            return rawBody;\n        }\n    }\n    catch (error) {\n        throw new ParseError(error, response);\n    }\n    throw new ParseError({\n        message: `Unknown body type '${responseType}'`,\n        name: 'Error',\n    }, response);\n};\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,aAAa;AAC1C,OAAO,MAAMC,YAAY,GAAIC,QAAQ,IAAK;EACtC,MAAM;IAAEC;EAAW,CAAC,GAAGD,QAAQ;EAC/B,MAAM;IAAEE;EAAe,CAAC,GAAGF,QAAQ,CAACG,OAAO,CAACC,OAAO;EACnD,MAAMC,YAAY,GAAG,OAAOH,cAAc,KAAK,UAAU,GAAGA,cAAc,CAACF,QAAQ,CAAC,GAAGE,cAAc;EACrG,MAAMI,eAAe,GAAGD,YAAY,GAAG,GAAG,GAAG,GAAG;EAChD,OAAQJ,UAAU,IAAI,GAAG,IAAIA,UAAU,IAAIK,eAAe,IAAKL,UAAU,KAAK,GAAG;AACrF,CAAC;AACD;AACA;AACA;AACA;AACA,OAAO,MAAMM,UAAU,SAAST,YAAY,CAAC;EACzCU,WAAWA,CAACC,KAAK,EAAET,QAAQ,EAAE;IACzB,MAAM;MAAEI;IAAQ,CAAC,GAAGJ,QAAQ,CAACG,OAAO;IACpC,KAAK,IAAAO,MAAA,CAAID,KAAK,CAACE,OAAO,YAAAD,MAAA,CAAQN,OAAO,CAACQ,GAAG,CAACC,QAAQ,CAAC,CAAC,SAAKJ,KAAK,EAAET,QAAQ,CAACG,OAAO,CAAC;IACjF,IAAI,CAACW,IAAI,GAAG,YAAY;IACxB,IAAI,CAACC,IAAI,GAAG,wBAAwB;EACxC;AACJ;AACA,OAAO,MAAMC,SAAS,GAAGA,CAAChB,QAAQ,EAAEiB,YAAY,EAAEC,SAAS,EAAEC,QAAQ,KAAK;EACtE,MAAM;IAAEC;EAAQ,CAAC,GAAGpB,QAAQ;EAC5B,IAAI;IACA,IAAIiB,YAAY,KAAK,MAAM,EAAE;MACzB,OAAOG,OAAO,CAACP,QAAQ,CAACM,QAAQ,CAAC;IACrC;IACA,IAAIF,YAAY,KAAK,MAAM,EAAE;MACzB,OAAOG,OAAO,CAACC,MAAM,KAAK,CAAC,GAAG,EAAE,GAAGH,SAAS,CAACE,OAAO,CAACP,QAAQ,CAACM,QAAQ,CAAC,CAAC;IAC5E;IACA,IAAIF,YAAY,KAAK,QAAQ,EAAE;MAC3B,OAAOG,OAAO;IAClB;EACJ,CAAC,CACD,OAAOX,KAAK,EAAE;IACV,MAAM,IAAIF,UAAU,CAACE,KAAK,EAAET,QAAQ,CAAC;EACzC;EACA,MAAM,IAAIO,UAAU,CAAC;IACjBI,OAAO,wBAAAD,MAAA,CAAwBO,YAAY,MAAG;IAC9CH,IAAI,EAAE;EACV,CAAC,EAAEd,QAAQ,CAAC;AAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}