{"ast":null,"code":"export default function parseLinkHeader(link) {\n  const parsed = [];\n  const items = link.split(',');\n  for (const item of items) {\n    // https://tools.ietf.org/html/rfc5988#section-5\n    const [rawUriReference, ...rawLinkParameters] = item.split(';');\n    const trimmedUriReference = rawUriReference.trim();\n    // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n    if (trimmedUriReference[0] !== '<' || trimmedUriReference.at(-1) !== '>') {\n      throw new Error(\"Invalid format of the Link header reference: \".concat(trimmedUriReference));\n    }\n    const reference = trimmedUriReference.slice(1, -1);\n    const parameters = {};\n    if (rawLinkParameters.length === 0) {\n      throw new Error(\"Unexpected end of Link header parameters: \".concat(rawLinkParameters.join(';')));\n    }\n    for (const rawParameter of rawLinkParameters) {\n      const trimmedRawParameter = rawParameter.trim();\n      const center = trimmedRawParameter.indexOf('=');\n      if (center === -1) {\n        throw new Error(\"Failed to parse Link header: \".concat(link));\n      }\n      const name = trimmedRawParameter.slice(0, center).trim();\n      const value = trimmedRawParameter.slice(center + 1).trim();\n      parameters[name] = value;\n    }\n    parsed.push({\n      reference,\n      parameters\n    });\n  }\n  return parsed;\n}","map":{"version":3,"names":["parseLinkHeader","link","parsed","items","split","item","rawUriReference","rawLinkParameters","trimmedUriReference","trim","at","Error","concat","reference","slice","parameters","length","join","rawParameter","trimmedRawParameter","center","indexOf","name","value","push"],"sources":["C:/Users/sakas/OneDrive/Desktop/gogo/node_modules/got/dist/source/core/parse-link-header.js"],"sourcesContent":["export default function parseLinkHeader(link) {\n    const parsed = [];\n    const items = link.split(',');\n    for (const item of items) {\n        // https://tools.ietf.org/html/rfc5988#section-5\n        const [rawUriReference, ...rawLinkParameters] = item.split(';');\n        const trimmedUriReference = rawUriReference.trim();\n        // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n        if (trimmedUriReference[0] !== '<' || trimmedUriReference.at(-1) !== '>') {\n            throw new Error(`Invalid format of the Link header reference: ${trimmedUriReference}`);\n        }\n        const reference = trimmedUriReference.slice(1, -1);\n        const parameters = {};\n        if (rawLinkParameters.length === 0) {\n            throw new Error(`Unexpected end of Link header parameters: ${rawLinkParameters.join(';')}`);\n        }\n        for (const rawParameter of rawLinkParameters) {\n            const trimmedRawParameter = rawParameter.trim();\n            const center = trimmedRawParameter.indexOf('=');\n            if (center === -1) {\n                throw new Error(`Failed to parse Link header: ${link}`);\n            }\n            const name = trimmedRawParameter.slice(0, center).trim();\n            const value = trimmedRawParameter.slice(center + 1).trim();\n            parameters[name] = value;\n        }\n        parsed.push({\n            reference,\n            parameters,\n        });\n    }\n    return parsed;\n}\n"],"mappings":"AAAA,eAAe,SAASA,eAAeA,CAACC,IAAI,EAAE;EAC1C,MAAMC,MAAM,GAAG,EAAE;EACjB,MAAMC,KAAK,GAAGF,IAAI,CAACG,KAAK,CAAC,GAAG,CAAC;EAC7B,KAAK,MAAMC,IAAI,IAAIF,KAAK,EAAE;IACtB;IACA,MAAM,CAACG,eAAe,EAAE,GAAGC,iBAAiB,CAAC,GAAGF,IAAI,CAACD,KAAK,CAAC,GAAG,CAAC;IAC/D,MAAMI,mBAAmB,GAAGF,eAAe,CAACG,IAAI,CAAC,CAAC;IAClD;IACA,IAAID,mBAAmB,CAAC,CAAC,CAAC,KAAK,GAAG,IAAIA,mBAAmB,CAACE,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MACtE,MAAM,IAAIC,KAAK,iDAAAC,MAAA,CAAiDJ,mBAAmB,CAAE,CAAC;IAC1F;IACA,MAAMK,SAAS,GAAGL,mBAAmB,CAACM,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAClD,MAAMC,UAAU,GAAG,CAAC,CAAC;IACrB,IAAIR,iBAAiB,CAACS,MAAM,KAAK,CAAC,EAAE;MAChC,MAAM,IAAIL,KAAK,8CAAAC,MAAA,CAA8CL,iBAAiB,CAACU,IAAI,CAAC,GAAG,CAAC,CAAE,CAAC;IAC/F;IACA,KAAK,MAAMC,YAAY,IAAIX,iBAAiB,EAAE;MAC1C,MAAMY,mBAAmB,GAAGD,YAAY,CAACT,IAAI,CAAC,CAAC;MAC/C,MAAMW,MAAM,GAAGD,mBAAmB,CAACE,OAAO,CAAC,GAAG,CAAC;MAC/C,IAAID,MAAM,KAAK,CAAC,CAAC,EAAE;QACf,MAAM,IAAIT,KAAK,iCAAAC,MAAA,CAAiCX,IAAI,CAAE,CAAC;MAC3D;MACA,MAAMqB,IAAI,GAAGH,mBAAmB,CAACL,KAAK,CAAC,CAAC,EAAEM,MAAM,CAAC,CAACX,IAAI,CAAC,CAAC;MACxD,MAAMc,KAAK,GAAGJ,mBAAmB,CAACL,KAAK,CAACM,MAAM,GAAG,CAAC,CAAC,CAACX,IAAI,CAAC,CAAC;MAC1DM,UAAU,CAACO,IAAI,CAAC,GAAGC,KAAK;IAC5B;IACArB,MAAM,CAACsB,IAAI,CAAC;MACRX,SAAS;MACTE;IACJ,CAAC,CAAC;EACN;EACA,OAAOb,MAAM;AACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}